<html><head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<link rev="made" href="mailto:bug-gnu-emacs@gnu.org">
<link rel="icon" type="image/png" href="/graphics/gnu-head-mini.png">
<meta name="ICBM" content="42.256233,-71.006581">
<meta name="DC.title" content="gnu.org">

<title>Sequence Functions</title>
<!--
This is the `GNU Emacs Lisp Reference Manual'
corresponding to Emacs version 26.1.

Copyright (C) 1990--1996, 1998--2018 Free Software Foundation, Inc.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with the Invariant Sections being ``GNU General Public
     License,'' with the Front-Cover Texts being ``A GNU Manual,'' and
     with the Back-Cover Texts as in (a) below.  A copy of the license
     is included in the section entitled ``GNU Free Documentation
     License.''

     (a) The FSF's Back-Cover Text is: ``You have the freedom to copy
     and modify this GNU manual.  Buying copies from the FSF supports
     it in developing GNU and promoting software freedom.''
   -->
<style type="text/css">
@import url('/software/emacs/manual.css');
</style>
</head>
<body>
<div class="node" style="background-color:#DDDDFF">
<a name="Sequence-Functions"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Arrays.html#Arrays">Arrays</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Sequences-Arrays-Vectors.html#Sequences-Arrays-Vectors">Sequences Arrays Vectors</a>

</p></div>

<h3 class="section">6.1 Sequences</h3>

<p>This section describes functions that accept any kind of sequence.

</p><div class="defun">
— Function: <a class="dashAnchor" name="//apple_ref/Function/sequencep"></a><b>sequencep</b><var> object<a name="index-sequencep-444"></a></var><br>
<blockquote><p>This function returns <code>t</code> if <var>object</var> is a list, vector,
string, bool-vector, or char-table, <code>nil</code> otherwise. 
</p></blockquote></div>

<div class="defun">
— Function: <a class="dashAnchor" name="//apple_ref/Function/length"></a><b>length</b><var> sequence<a name="index-length-445"></a></var><br>
<blockquote><p><a name="index-string-length-446"></a><a name="index-list-length-447"></a><a name="index-vector-length-448"></a><a name="index-sequence-length-449"></a><a name="index-char_002dtable-length-450"></a><a name="Definition-of-length"></a>This function returns the number of elements in <var>sequence</var>.  If
<var>sequence</var> is a dotted list, a <code>wrong-type-argument</code> error is
signaled.  Circular lists may cause an infinite loop.  For a
char-table, the value returned is always one more than the maximum
Emacs character code.

        </p><p>See <a href="Definition-of-safe_002dlength.html#Definition-of-safe_002dlength">Definition of safe-length</a>, for the related function <code>safe-length</code>.

     </p><pre class="example">          (length '(1 2 3))
              ⇒ 3
          (length ())
              ⇒ 0
          (length "foobar")
              ⇒ 6
          (length [1 2 3])
              ⇒ 3
          (length (make-bool-vector 5 nil))
              ⇒ 5
</pre>
        </blockquote></div>

<p class="noindent">See also <code>string-bytes</code>, in <a href="Text-Representations.html#Text-Representations">Text Representations</a>.

   </p><p>If you need to compute the width of a string on display, you should use
<code>string-width</code> (see <a href="Size-of-Displayed-Text.html#Size-of-Displayed-Text">Size of Displayed Text</a>), not <code>length</code>,
since <code>length</code> only counts the number of characters, but does not
account for the display width of each character.

</p><div class="defun">
— Function: <a class="dashAnchor" name="//apple_ref/Function/elt"></a><b>elt</b><var> sequence index<a name="index-elt-451"></a></var><br>
<blockquote><p><a name="Definition-of-elt"></a><a name="index-elements-of-sequences-452"></a>This function returns the element of <var>sequence</var> indexed by
<var>index</var>.  Legitimate values of <var>index</var> are integers ranging
from 0 up to one less than the length of <var>sequence</var>.  If
<var>sequence</var> is a list, out-of-range values behave as for
<code>nth</code>.  See <a href="Definition-of-nth.html#Definition-of-nth">Definition of nth</a>.  Otherwise, out-of-range values
trigger an <code>args-out-of-range</code> error.

     </p><pre class="example">          (elt [1 2 3 4] 2)
               ⇒ 3
          (elt '(1 2 3 4) 2)
               ⇒ 3
          ;; <span class="roman">We use </span><code>string</code><span class="roman"> to show clearly which character </span><code>elt</code><span class="roman"> returns.</span>
          (string (elt "1234" 2))
               ⇒ "3"
          (elt [1 2 3 4] 4)
               error--&gt; Args out of range: [1 2 3 4], 4
          (elt [1 2 3 4] -1)
               error--&gt; Args out of range: [1 2 3 4], -1
</pre>
        <p>This function generalizes <code>aref</code> (see <a href="Array-Functions.html#Array-Functions">Array Functions</a>) and
<code>nth</code> (see <a href="Definition-of-nth.html#Definition-of-nth">Definition of nth</a>). 
</p></blockquote></div>

<div class="defun">
— Function: <a class="dashAnchor" name="//apple_ref/Function/copy%2Dsequence"></a><b>copy-sequence</b><var> seqr<a name="index-copy_002dsequence-453"></a></var><br>
<blockquote><p><a name="index-copying-sequences-454"></a>This function returns a copy of <var>seqr</var>, which should be either a
sequence or a record.  The copy is the same type of object as the
original, and it has the same elements in the same order.  However, if
<var>seqr</var> is empty, like a string or a vector of zero length, the
value returned by this function might not be a copy, but an empty
object of the same type and identical to <var>seqr</var>.

        </p><p>Storing a new element into the copy does not affect the original
<var>seqr</var>, and vice versa.  However, the elements of the copy
are not copies; they are identical (<code>eq</code>) to the elements
of the original.  Therefore, changes made within these elements, as
found via the copy, are also visible in the original.

        </p><p>If the argument is a string with text properties, the property list in
the copy is itself a copy, not shared with the original's property
list.  However, the actual values of the properties are shared. 
See <a href="Text-Properties.html#Text-Properties">Text Properties</a>.

        </p><p>This function does not work for dotted lists.  Trying to copy a
circular list may cause an infinite loop.

        </p><p>See also <code>append</code> in <a href="Building-Lists.html#Building-Lists">Building Lists</a>, <code>concat</code> in
<a href="Creating-Strings.html#Creating-Strings">Creating Strings</a>, and <code>vconcat</code> in <a href="Vector-Functions.html#Vector-Functions">Vector Functions</a>,
for other ways to copy sequences.

     </p><pre class="example">          (setq bar '(1 2))
               ⇒ (1 2)
          (setq x (vector 'foo bar))
               ⇒ [foo (1 2)]
          (setq y (copy-sequence x))
               ⇒ [foo (1 2)]
          
          (eq x y)
               ⇒ nil
          (equal x y)
               ⇒ t
          (eq (elt x 1) (elt y 1))
               ⇒ t
          
          ;; <span class="roman">Replacing an element of one sequence.</span>
          (aset x 0 'quux)
          x ⇒ [quux (1 2)]
          y ⇒ [foo (1 2)]
          
          ;; <span class="roman">Modifying the inside of a shared element.</span>
          (setcar (aref x 1) 69)
          x ⇒ [quux (69 2)]
          y ⇒ [foo (69 2)]
</pre>
        </blockquote></div>

<div class="defun">
— Function: <a class="dashAnchor" name="//apple_ref/Function/reverse"></a><b>reverse</b><var> sequence<a name="index-reverse-455"></a></var><br>
<blockquote><p><a name="index-string-reverse-456"></a><a name="index-list-reverse-457"></a><a name="index-vector-reverse-458"></a><a name="index-sequence-reverse-459"></a>This function creates a new sequence whose elements are the elements
of <var>sequence</var>, but in reverse order.  The original argument <var>sequence</var>
is <em>not</em> altered.  Note that char-tables cannot be reversed.

     </p><pre class="example">          (setq x '(1 2 3 4))
               ⇒ (1 2 3 4)
          (reverse x)
               ⇒ (4 3 2 1)
          x
               ⇒ (1 2 3 4)
          (setq x [1 2 3 4])
               ⇒ [1 2 3 4]
          (reverse x)
               ⇒ [4 3 2 1]
          x
               ⇒ [1 2 3 4]
          (setq x "xyzzy")
               ⇒ "xyzzy"
          (reverse x)
               ⇒ "yzzyx"
          x
               ⇒ "xyzzy"
</pre>
        </blockquote></div>

<div class="defun">
— Function: <a class="dashAnchor" name="//apple_ref/Function/nreverse"></a><b>nreverse</b><var> sequence<a name="index-nreverse-460"></a></var><br>
<blockquote><p><a name="index-reversing-a-string-461"></a><a name="index-reversing-a-list-462"></a><a name="index-reversing-a-vector-463"></a>  This function reverses the order of the elements of <var>sequence</var>. 
Unlike <code>reverse</code> the original <var>sequence</var> may be modified.

        </p><p>For example:

     </p><pre class="example">          (setq x '(a b c))
               ⇒ (a b c)
          x
               ⇒ (a b c)
          (nreverse x)
               ⇒ (c b a)
          ;; <span class="roman">The cons cell that was first is now last.</span>
          x
               ⇒ (a)
</pre>
        <p>To avoid confusion, we usually store the result of <code>nreverse</code>
back in the same variable which held the original list:

     </p><pre class="example">          (setq x (nreverse x))
</pre>
        <p>Here is the <code>nreverse</code> of our favorite example, <code>(a b c)</code>,
presented graphically:

     </p><pre class="smallexample">          <span class="roman">Original list head:</span>                       <span class="roman">Reversed list:</span>
           -------------        -------------        ------------
          | car  | cdr  |      | car  | cdr  |      | car | cdr  |
          |   a  |  nil |&lt;--   |   b  |   o  |&lt;--   |   c |   o  |
          |      |      |   |  |      |   |  |   |  |     |   |  |
           -------------    |   --------- | -    |   -------- | -
                            |             |      |            |
                             -------------        ------------
</pre>
        <p>For the vector, it is even simpler because you don't need setq:

     </p><pre class="example">          (setq x [1 2 3 4])
               ⇒ [1 2 3 4]
          (nreverse x)
               ⇒ [4 3 2 1]
          x
               ⇒ [4 3 2 1]
</pre>
        <p>Note that unlike <code>reverse</code>, this function doesn't work with strings. 
Although you can alter string data by using <code>aset</code>, it is strongly
encouraged to treat strings as immutable.

        </p></blockquote></div>

<div class="defun">
— Function: <a class="dashAnchor" name="//apple_ref/Function/sort"></a><b>sort</b><var> sequence predicate<a name="index-sort-464"></a></var><br>
<blockquote><p><a name="index-stable-sort-465"></a><a name="index-sorting-lists-466"></a><a name="index-sorting-vectors-467"></a>This function sorts <var>sequence</var> stably.  Note that this function doesn't work
for all sequences; it may be used only for lists and vectors.  If <var>sequence</var>
is a list, it is modified destructively.  This functions returns the sorted
<var>sequence</var> and compares elements using <var>predicate</var>.  A stable sort is
one in which elements with equal sort keys maintain their relative order before
and after the sort.  Stability is important when successive sorts are used to
order elements according to different criteria.

        </p><p>The argument <var>predicate</var> must be a function that accepts two
arguments.  It is called with two elements of <var>sequence</var>.  To get an
increasing order sort, the <var>predicate</var> should return non-<code>nil</code> if the
first element is “less” than the second, or <code>nil</code> if not.

        </p><p>The comparison function <var>predicate</var> must give reliable results for
any given pair of arguments, at least within a single call to
<code>sort</code>.  It must be <dfn>antisymmetric</dfn>; that is, if <var>a</var> is
less than <var>b</var>, <var>b</var> must not be less than <var>a</var>.  It must be
<dfn>transitive</dfn>—that is, if <var>a</var> is less than <var>b</var>, and <var>b</var>
is less than <var>c</var>, then <var>a</var> must be less than <var>c</var>.  If you
use a comparison function which does not meet these requirements, the
result of <code>sort</code> is unpredictable.

        </p><p>The destructive aspect of <code>sort</code> for lists is that it rearranges the
cons cells forming <var>sequence</var> by changing <span class="sc">cdr</span>s.  A nondestructive
sort function would create new cons cells to store the elements in their
sorted order.  If you wish to make a sorted copy without destroying the
original, copy it first with <code>copy-sequence</code> and then sort.

        </p><p>Sorting does not change the <span class="sc">car</span>s of the cons cells in <var>sequence</var>;
the cons cell that originally contained the element <code>a</code> in
<var>sequence</var> still has <code>a</code> in its <span class="sc">car</span> after sorting, but it now
appears in a different position in the list due to the change of
<span class="sc">cdr</span>s.  For example:

     </p><pre class="example">          (setq nums '(1 3 2 6 5 4 0))
               ⇒ (1 3 2 6 5 4 0)
          (sort nums '&lt;)
               ⇒ (0 1 2 3 4 5 6)
          nums
               ⇒ (1 2 3 4 5 6)
</pre>
        <p class="noindent"><strong>Warning</strong>: Note that the list in <code>nums</code> no longer contains
0; this is the same cons cell that it was before, but it is no longer
the first one in the list.  Don't assume a variable that formerly held
the argument now holds the entire sorted list!  Instead, save the result
of <code>sort</code> and use that.  Most often we store the result back into
the variable that held the original list:

     </p><pre class="example">          (setq nums (sort nums '&lt;))
</pre>
        <p>For the better understanding of what stable sort is, consider the following
vector example.  After sorting, all items whose <code>car</code> is 8 are grouped
at the beginning of <code>vector</code>, but their relative order is preserved. 
All items whose <code>car</code> is 9 are grouped at the end of <code>vector</code>,
but their relative order is also preserved:

     </p><pre class="example">          (setq
            vector
            (vector '(8 . "xxx") '(9 . "aaa") '(8 . "bbb") '(9 . "zzz")
                    '(9 . "ppp") '(8 . "ttt") '(8 . "eee") '(9 . "fff")))
               ⇒ [(8 . "xxx") (9 . "aaa") (8 . "bbb") (9 . "zzz")
                   (9 . "ppp") (8 . "ttt") (8 . "eee") (9 . "fff")]
          (sort vector (lambda (x y) (&lt; (car x) (car y))))
               ⇒ [(8 . "xxx") (8 . "bbb") (8 . "ttt") (8 . "eee")
                   (9 . "aaa") (9 . "zzz") (9 . "ppp") (9 . "fff")]
</pre>
        <p>See <a href="Sorting.html#Sorting">Sorting</a>, for more functions that perform sorting. 
See <code>documentation</code> in <a href="Accessing-Documentation.html#Accessing-Documentation">Accessing Documentation</a>, for a
useful example of <code>sort</code>. 
</p></blockquote></div>

   <p><a name="index-sequence-functions-in-seq-468"></a><a name="index-seq-library-469"></a><a name="index-sequences_002c-generalized-470"></a>  The <samp><span class="file">seq.el</span></samp> library provides the following additional sequence
manipulation macros and functions, prefixed with <code>seq-</code>.  To use
them, you must first load the <samp><span class="file">seq</span></samp> library.

   </p><p>All functions defined in this library are free of side-effects;
i.e., they do not modify any sequence (list, vector, or string) that
you pass as an argument.  Unless otherwise stated, the result is a
sequence of the same type as the input.  For those functions that take
a predicate, this should be a function of one argument.

   </p><p>The <samp><span class="file">seq.el</span></samp> library can be extended to work with additional
types of sequential data-structures.  For that purpose, all functions
are defined using <code>cl-defgeneric</code>.  See <a href="Generic-Functions.html#Generic-Functions">Generic Functions</a>, for
more details about using <code>cl-defgeneric</code> for adding extensions.

</p><div class="defun">
— Function: <a class="dashAnchor" name="//apple_ref/Function/seq%2Delt"></a><b>seq-elt</b><var> sequence index<a name="index-seq_002delt-471"></a></var><br>
<blockquote><p>  This function returns the element of <var>sequence</var> at the specified
<var>index</var>, which is an integer whose valid value range is zero to
one less than the length of <var>sequence</var>.  For out-of-range values
on built-in sequence types, <code>seq-elt</code> behaves like <code>elt</code>. 
For the details, see <a href="Definition-of-elt.html#Definition-of-elt">Definition of elt</a>.

     </p><pre class="example">          (seq-elt [1 2 3 4] 2)
          ⇒ 3
</pre>
        <p><code>seq-elt</code> returns places settable using <code>setf</code>
(see <a href="Setting-Generalized-Variables.html#Setting-Generalized-Variables">Setting Generalized Variables</a>).

     </p><pre class="example">          (setq vec [1 2 3 4])
          (setf (seq-elt vec 2) 5)
          vec
          ⇒ [1 2 5 4]
</pre>
        </blockquote></div>

<div class="defun">
— Function: <a class="dashAnchor" name="//apple_ref/Function/seq%2Dlength"></a><b>seq-length</b><var> sequence<a name="index-seq_002dlength-472"></a></var><br>
<blockquote><p>  This function returns the number of elements in <var>sequence</var>.  For
built-in sequence types, <code>seq-length</code> behaves like <code>length</code>. 
See <a href="Definition-of-length.html#Definition-of-length">Definition of length</a>. 
</p></blockquote></div>

<div class="defun">
— Function: <a class="dashAnchor" name="//apple_ref/Function/seqp"></a><b>seqp</b><var> sequence<a name="index-seqp-473"></a></var><br>
<blockquote><p>  This function returns non-<code>nil</code> if <var>sequence</var> is a sequence
(a list or array), or any additional type of sequence defined via
<samp><span class="file">seq.el</span></samp> generic functions.

     </p><pre class="example">          (seqp [1 2])
          ⇒ t
          (seqp 2)
          ⇒ nil
</pre>
        </blockquote></div>

<div class="defun">
— Function: <a class="dashAnchor" name="//apple_ref/Function/seq%2Ddrop"></a><b>seq-drop</b><var> sequence n<a name="index-seq_002ddrop-474"></a></var><br>
<blockquote><p>  This function returns all but the first <var>n</var> (an integer)
elements of <var>sequence</var>.  If <var>n</var> is negative or zero,
the result is <var>sequence</var>.

     </p><pre class="example">          (seq-drop [1 2 3 4 5 6] 3)
          ⇒ [4 5 6]
          (seq-drop "hello world" -4)
          ⇒ "hello world"
</pre>
        </blockquote></div>

<div class="defun">
— Function: <a class="dashAnchor" name="//apple_ref/Function/seq%2Dtake"></a><b>seq-take</b><var> sequence n<a name="index-seq_002dtake-475"></a></var><br>
<blockquote><p>  This function returns the first <var>n</var> (an integer) elements of
<var>sequence</var>.  If <var>n</var> is negative or zero, the result
is <code>nil</code>.

     </p><pre class="example">          (seq-take '(1 2 3 4) 3)
          ⇒ (1 2 3)
          (seq-take [1 2 3 4] 0)
          ⇒ []
</pre>
        </blockquote></div>

<div class="defun">
— Function: <a class="dashAnchor" name="//apple_ref/Function/seq%2Dtake%2Dwhile"></a><b>seq-take-while</b><var> predicate sequence<a name="index-seq_002dtake_002dwhile-476"></a></var><br>
<blockquote><p>  This function returns the members of <var>sequence</var> in order,
stopping before the first one for which <var>predicate</var> returns <code>nil</code>.

     </p><pre class="example">          (seq-take-while (lambda (elt) (&gt; elt 0)) '(1 2 3 -1 -2))
          ⇒ (1 2 3)
          (seq-take-while (lambda (elt) (&gt; elt 0)) [-1 4 6])
          ⇒ []
</pre>
        </blockquote></div>

<div class="defun">
— Function: <a class="dashAnchor" name="//apple_ref/Function/seq%2Ddrop%2Dwhile"></a><b>seq-drop-while</b><var> predicate sequence<a name="index-seq_002ddrop_002dwhile-477"></a></var><br>
<blockquote><p>  This function returns the members of <var>sequence</var> in order,
starting from the first one for which <var>predicate</var> returns <code>nil</code>.

     </p><pre class="example">          (seq-drop-while (lambda (elt) (&gt; elt 0)) '(1 2 3 -1 -2))
          ⇒ (-1 -2)
          (seq-drop-while (lambda (elt) (&lt; elt 0)) [1 4 6])
          ⇒ [1 4 6]
</pre>
        </blockquote></div>

<div class="defun">
— Function: <a class="dashAnchor" name="//apple_ref/Function/seq%2Ddo"></a><b>seq-do</b><var> function sequence<a name="index-seq_002ddo-478"></a></var><br>
<blockquote><p>  This function applies <var>function</var> to each element of
<var>sequence</var> in turn (presumably for side effects), and returns
<var>sequence</var>. 
</p></blockquote></div>

<div class="defun">
— Function: <a class="dashAnchor" name="//apple_ref/Function/seq%2Dmap"></a><b>seq-map</b><var> function sequence<a name="index-seq_002dmap-479"></a></var><br>
<blockquote><p>  This function returns the result of applying <var>function</var> to each
element of <var>sequence</var>.  The returned value is a list.

     </p><pre class="example">          (seq-map #'1+ '(2 4 6))
          ⇒ (3 5 7)
          (seq-map #'symbol-name [foo bar])
          ⇒ ("foo" "bar")
</pre>
        </blockquote></div>

<div class="defun">
— Function: <a class="dashAnchor" name="//apple_ref/Function/seq%2Dmap%2Dindexed"></a><b>seq-map-indexed</b><var> function sequence<a name="index-seq_002dmap_002dindexed-480"></a></var><br>
<blockquote><p>  This function returns the result of applying <var>function</var> to each
element of <var>sequence</var> and its index within <var>seq</var>.  The
returned value is a list.

     </p><pre class="example">          (seq-map-indexed (lambda (elt idx)
                             (list idx elt))
                           '(a b c))
          ⇒ ((0 a) (b 1) (c 2))
</pre>
        </blockquote></div>

<div class="defun">
— Function: <a class="dashAnchor" name="//apple_ref/Function/seq%2Dmapn"></a><b>seq-mapn</b><var> function &amp;rest sequences<a name="index-seq_002dmapn-481"></a></var><br>
<blockquote><p>  This function returns the result of applying <var>function</var> to each
element of <var>sequences</var>.  The arity (see <a href="What-Is-a-Function.html#What-Is-a-Function">sub-arity</a>) of <var>function</var> must match the number of sequences. 
Mapping stops at the end of the shortest sequence, and the returned
value is a list.

     </p><pre class="example">          (seq-mapn #'+ '(2 4 6) '(20 40 60))
          ⇒ (22 44 66)
          (seq-mapn #'concat '("moskito" "bite") ["bee" "sting"])
          ⇒ ("moskitobee" "bitesting")
</pre>
        </blockquote></div>

<div class="defun">
— Function: <a class="dashAnchor" name="//apple_ref/Function/seq%2Dfilter"></a><b>seq-filter</b><var> predicate sequence<a name="index-seq_002dfilter-482"></a></var><br>
<blockquote><p><a name="index-filtering-sequences-483"></a>  This function returns a list of all the elements in <var>sequence</var>
for which <var>predicate</var> returns non-<code>nil</code>.

     </p><pre class="example">          (seq-filter (lambda (elt) (&gt; elt 0)) [1 -1 3 -3 5])
          ⇒ (1 3 5)
          (seq-filter (lambda (elt) (&gt; elt 0)) '(-1 -3 -5))
          ⇒ nil
</pre>
        </blockquote></div>

<div class="defun">
— Function: <a class="dashAnchor" name="//apple_ref/Function/seq%2Dremove"></a><b>seq-remove</b><var> predicate sequence<a name="index-seq_002dremove-484"></a></var><br>
<blockquote><p><a name="index-removing-from-sequences-485"></a>  This function returns a list of all the elements in <var>sequence</var>
for which <var>predicate</var> returns <code>nil</code>.

     </p><pre class="example">          (seq-remove (lambda (elt) (&gt; elt 0)) [1 -1 3 -3 5])
          ⇒ (-1 -3)
          (seq-remove (lambda (elt) (&lt; elt 0)) '(-1 -3 -5))
          ⇒ nil
</pre>
        </blockquote></div>

<div class="defun">
— Function: <a class="dashAnchor" name="//apple_ref/Function/seq%2Dreduce"></a><b>seq-reduce</b><var> function sequence initial-value<a name="index-seq_002dreduce-486"></a></var><br>
<blockquote><p><a name="index-reducing-sequences-487"></a>  This function returns the result of calling <var>function</var> with
<var>initial-value</var> and the first element of <var>sequence</var>, then calling
<var>function</var> with that result and the second element of <var>sequence</var>,
then with that result and the third element of <var>sequence</var>, etc. 
<var>function</var> should be a function of two arguments.  If
<var>sequence</var> is empty, this returns <var>initial-value</var> without
calling <var>function</var>.

     </p><pre class="example">          (seq-reduce #'+ [1 2 3 4] 0)
          ⇒ 10
          (seq-reduce #'+ '(1 2 3 4) 5)
          ⇒ 15
          (seq-reduce #'+ '() 3)
          ⇒ 3
</pre>
        </blockquote></div>

<div class="defun">
— Function: <a class="dashAnchor" name="//apple_ref/Function/seq%2Dsome"></a><b>seq-some</b><var> predicate sequence<a name="index-seq_002dsome-488"></a></var><br>
<blockquote><p>  This function returns the first non-<code>nil</code> value returned by
applying <var>predicate</var> to each element of <var>sequence</var> in turn.

     </p><pre class="example">          (seq-some #'numberp ["abc" 1 nil])
          ⇒ t
          (seq-some #'numberp ["abc" "def"])
          ⇒ nil
          (seq-some #'null ["abc" 1 nil])
          ⇒ t
          (seq-some #'1+ [2 4 6])
          ⇒ 3
</pre>
        </blockquote></div>

<div class="defun">
— Function: <a class="dashAnchor" name="//apple_ref/Function/seq%2Dfind"></a><b>seq-find</b><var> predicate sequence &amp;optional default<a name="index-seq_002dfind-489"></a></var><br>
<blockquote><p>  This function returns the first element in <var>sequence</var> for which
<var>predicate</var> returns non-<code>nil</code>.  If no element matches
<var>predicate</var>, the function returns <var>default</var>.

        </p><p>Note that this function has an ambiguity if the found element is
identical to <var>default</var>, as in that case it cannot be known whether
an element was found or not.

     </p><pre class="example">          (seq-find #'numberp ["abc" 1 nil])
          ⇒ 1
          (seq-find #'numberp ["abc" "def"])
          ⇒ nil
</pre>
        </blockquote></div>

<div class="defun">
— Function: <a class="dashAnchor" name="//apple_ref/Function/seq%2Devery%2Dp"></a><b>seq-every-p</b><var> predicate sequence<a name="index-seq_002devery_002dp-490"></a></var><br>
<blockquote><p>  This function returns non-<code>nil</code> if applying <var>predicate</var>
to every element of <var>sequence</var> returns non-<code>nil</code>.

     </p><pre class="example">          (seq-every-p #'numberp [2 4 6])
          ⇒ t
          (seq-every-p #'numberp [2 4 "6"])
          ⇒ nil
</pre>
        </blockquote></div>

<div class="defun">
— Function: <a class="dashAnchor" name="//apple_ref/Function/seq%2Dempty%2Dp"></a><b>seq-empty-p</b><var> sequence<a name="index-seq_002dempty_002dp-491"></a></var><br>
<blockquote><p>  This function returns non-<code>nil</code> if <var>sequence</var> is empty.

     </p><pre class="example">          (seq-empty-p "not empty")
          ⇒ nil
          (seq-empty-p "")
          ⇒ t
</pre>
        </blockquote></div>

<div class="defun">
— Function: <a class="dashAnchor" name="//apple_ref/Function/seq%2Dcount"></a><b>seq-count</b><var> predicate sequence<a name="index-seq_002dcount-492"></a></var><br>
<blockquote><p>  This function returns the number of elements in <var>sequence</var> for which
<var>predicate</var> returns non-<code>nil</code>.

     </p><pre class="example">          (seq-count (lambda (elt) (&gt; elt 0)) [-1 2 0 3 -2])
          ⇒ 2
</pre>
        </blockquote></div>

   <p><a name="index-sorting-sequences-493"></a>

</p><div class="defun">
— Function: <a class="dashAnchor" name="//apple_ref/Function/seq%2Dsort"></a><b>seq-sort</b><var> function sequence<a name="index-seq_002dsort-494"></a></var><br>
<blockquote><p>  This function returns a copy of <var>sequence</var> that is sorted
according to <var>function</var>, a function of two arguments that returns
non-<code>nil</code> if the first argument should sort before the second. 
</p></blockquote></div>

<div class="defun">
— Function: <a class="dashAnchor" name="//apple_ref/Function/seq%2Dsort%2Dby"></a><b>seq-sort-by</b><var> function predicate sequence<a name="index-seq_002dsort_002dby-495"></a></var><br>
<blockquote><p>  This function is similar to <code>seq-sort</code>, but the elements of
<var>sequence</var> are transformed by applying <var>function</var> on them
before being sorted.  <var>function</var> is a function of one argument.

     </p><pre class="example">          (seq-sort-by #'seq-length #'&gt; ["a" "ab" "abc"])
          ⇒ ["abc" "ab" "a"]
</pre>
        </blockquote></div>

<div class="defun">
— Function: <a class="dashAnchor" name="//apple_ref/Function/seq%2Dcontains"></a><b>seq-contains</b><var> sequence elt &amp;optional function<a name="index-seq_002dcontains-496"></a></var><br>
<blockquote><p>  This function returns the first element in <var>sequence</var> that is equal to
<var>elt</var>.  If the optional argument <var>function</var> is non-<code>nil</code>,
it is a function of two arguments to use instead of the default <code>equal</code>.

     </p><pre class="example">          (seq-contains '(symbol1 symbol2) 'symbol1)
          ⇒ symbol1
          (seq-contains '(symbol1 symbol2) 'symbol3)
          ⇒ nil
</pre>
        </blockquote></div>

<div class="defun">
— Function: <a class="dashAnchor" name="//apple_ref/Function/seq%2Dset%2Dequal%2Dp"></a><b>seq-set-equal-p</b><var> sequence1 sequence2 &amp;optional testfn<a name="index-seq_002dset_002dequal_002dp-497"></a></var><br>
<blockquote><p>This function checks whether <var>sequence1</var> and <var>sequence2</var>
contain the same elements, regardless of the order. If the optional
argument <var>testfn</var> is non-<code>nil</code>, it is a function of two
arguments to use instead of the default <code>equal</code>.

     </p><pre class="example">          (seq-set-equal-p '(a b c) '(c b a))
          ⇒ t
          (seq-set-equal-p '(a b c) '(c b))
          ⇒ nil
          (seq-set-equal-p '("a" "b" "c") '("c" "b" "a"))
          ⇒ t
          (seq-set-equal-p '("a" "b" "c") '("c" "b" "a") #'eq)
          ⇒ nil
</pre>
        </blockquote></div>

<div class="defun">
— Function: <a class="dashAnchor" name="//apple_ref/Function/seq%2Dposition"></a><b>seq-position</b><var> sequence elt &amp;optional function<a name="index-seq_002dposition-498"></a></var><br>
<blockquote><p>  This function returns the index of the first element in
<var>sequence</var> that is equal to <var>elt</var>.  If the optional argument
<var>function</var> is non-<code>nil</code>, it is a function of two arguments to
use instead of the default <code>equal</code>.

     </p><pre class="example">          (seq-position '(a b c) 'b)
          ⇒ 1
          (seq-position '(a b c) 'd)
          ⇒ nil
</pre>
        </blockquote></div>

<div class="defun">
— Function: <a class="dashAnchor" name="//apple_ref/Function/seq%2Duniq"></a><b>seq-uniq</b><var> sequence &amp;optional function<a name="index-seq_002duniq-499"></a></var><br>
<blockquote><p>  This function returns a list of the elements of <var>sequence</var> with
duplicates removed.  If the optional argument <var>function</var> is non-<code>nil</code>,
it is a function of two arguments to use instead of the default <code>equal</code>.

     </p><pre class="example">          (seq-uniq '(1 2 2 1 3))
          ⇒ (1 2 3)
          (seq-uniq '(1 2 2.0 1.0) #'=)
          ⇒ (1 2)
</pre>
        </blockquote></div>

<div class="defun">
— Function: <a class="dashAnchor" name="//apple_ref/Function/seq%2Dsubseq"></a><b>seq-subseq</b><var> sequence start &amp;optional end<a name="index-seq_002dsubseq-500"></a></var><br>
<blockquote><p><a name="index-sub_002dsequence-501"></a>  This function returns a subset of <var>sequence</var> from <var>start</var>
to <var>end</var>, both integers (<var>end</var> defaults to the last element). 
If <var>start</var> or <var>end</var> is negative, it counts from the end of
<var>sequence</var>.

     </p><pre class="example">          (seq-subseq '(1 2 3 4 5) 1)
          ⇒ (2 3 4 5)
          (seq-subseq '[1 2 3 4 5] 1 3)
          ⇒ [2 3]
          (seq-subseq '[1 2 3 4 5] -3 -1)
          ⇒ [3 4]
</pre>
        </blockquote></div>

<div class="defun">
— Function: <a class="dashAnchor" name="//apple_ref/Function/seq%2Dconcatenate"></a><b>seq-concatenate</b><var> type &amp;rest sequences<a name="index-seq_002dconcatenate-502"></a></var><br>
<blockquote><p>  This function returns a sequence of type <var>type</var> made of the
concatenation of <var>sequences</var>.  <var>type</var> may be: <code>vector</code>,
<code>list</code> or <code>string</code>.

     </p><pre class="example">          (seq-concatenate 'list '(1 2) '(3 4) [5 6])
          ⇒ (1 2 3 4 5 6)
          (seq-concatenate 'string "Hello " "world")
          ⇒ "Hello world"
</pre>
        </blockquote></div>

<div class="defun">
— Function: <a class="dashAnchor" name="//apple_ref/Function/seq%2Dmapcat"></a><b>seq-mapcat</b><var> function sequence &amp;optional type<a name="index-seq_002dmapcat-503"></a></var><br>
<blockquote><p>  This function returns the result of applying <code>seq-concatenate</code>
to the result of applying <var>function</var> to each element of
<var>sequence</var>.  The result is a sequence of type <var>type</var>, or a
list if <var>type</var> is <code>nil</code>.

     </p><pre class="example">          (seq-mapcat #'seq-reverse '((3 2 1) (6 5 4)))
          ⇒ (1 2 3 4 5 6)
</pre>
        </blockquote></div>

<div class="defun">
— Function: <a class="dashAnchor" name="//apple_ref/Function/seq%2Dpartition"></a><b>seq-partition</b><var> sequence n<a name="index-seq_002dpartition-504"></a></var><br>
<blockquote><p>  This function returns a list of the elements of <var>sequence</var>
grouped into sub-sequences of length <var>n</var>.  The last sequence may
contain less elements than <var>n</var>.  <var>n</var> must be an integer.  If
<var>n</var> is a negative integer or 0, the return value is <code>nil</code>.

     </p><pre class="example">          (seq-partition '(0 1 2 3 4 5 6 7) 3)
          ⇒ ((0 1 2) (3 4 5) (6 7))
</pre>
        </blockquote></div>

<div class="defun">
— Function: <a class="dashAnchor" name="//apple_ref/Function/seq%2Dintersection"></a><b>seq-intersection</b><var> sequence1 sequence2 &amp;optional function<a name="index-seq_002dintersection-505"></a></var><br>
<blockquote><p><a name="index-sequences_002c-intersection-of-506"></a><a name="index-intersection-of-sequences-507"></a>  This function returns a list of the elements that appear both in
<var>sequence1</var> and <var>sequence2</var>.  If the optional argument
<var>function</var> is non-<code>nil</code>, it is a function of two arguments to
use to compare elements instead of the default <code>equal</code>.

     </p><pre class="example">          (seq-intersection [2 3 4 5] [1 3 5 6 7])
          ⇒ (3 5)
</pre>
        </blockquote></div>

<div class="defun">
— Function: <a class="dashAnchor" name="//apple_ref/Function/seq%2Ddifference"></a><b>seq-difference</b><var> sequence1 sequence2 &amp;optional function<a name="index-seq_002ddifference-508"></a></var><br>
<blockquote><p>  This function returns a list of the elements that appear in
<var>sequence1</var> but not in <var>sequence2</var>.  If the optional argument
<var>function</var> is non-<code>nil</code>, it is a function of two arguments to
use to compare elements instead of the default <code>equal</code>.

     </p><pre class="example">          (seq-difference '(2 3 4 5) [1 3 5 6 7])
          ⇒ (2 4)
</pre>
        </blockquote></div>

<div class="defun">
— Function: <a class="dashAnchor" name="//apple_ref/Function/seq%2Dgroup%2Dby"></a><b>seq-group-by</b><var> function sequence<a name="index-seq_002dgroup_002dby-509"></a></var><br>
<blockquote><p>  This function separates the elements of <var>sequence</var> into an alist
whose keys are the result of applying <var>function</var> to each element
of <var>sequence</var>.  Keys are compared using <code>equal</code>.

     </p><pre class="example">          (seq-group-by #'integerp '(1 2.1 3 2 3.2))
          ⇒ ((t 1 3 2) (nil 2.1 3.2))
          (seq-group-by #'car '((a 1) (b 2) (a 3) (c 4)))
          ⇒ ((b (b 2)) (a (a 1) (a 3)) (c (c 4)))
</pre>
        </blockquote></div>

<div class="defun">
— Function: <a class="dashAnchor" name="//apple_ref/Function/seq%2Dinto"></a><b>seq-into</b><var> sequence type<a name="index-seq_002dinto-510"></a></var><br>
<blockquote><p><a name="index-convert-sequence-to-another-type-511"></a><a name="index-list-to-vector-512"></a><a name="index-vector-to-list-513"></a><a name="index-string-to-vector-514"></a>  This function converts the sequence <var>sequence</var> into a sequence
of type <var>type</var>.  <var>type</var> can be one of the following symbols:
<code>vector</code>, <code>string</code> or <code>list</code>.

     </p><pre class="example">          (seq-into [1 2 3] 'list)
          ⇒ (1 2 3)
          (seq-into nil 'vector)
          ⇒ []
          (seq-into "hello" 'vector)
          ⇒ [104 101 108 108 111]
</pre>
        </blockquote></div>

<div class="defun">
— Function: <a class="dashAnchor" name="//apple_ref/Function/seq%2Dmin"></a><b>seq-min</b><var> sequence<a name="index-seq_002dmin-515"></a></var><br>
<blockquote><p><a name="index-minimum-value-of-sequence-516"></a><a name="index-sequence-minimum-517"></a>  This function returns the smallest element of <var>sequence</var>.  The
elements of <var>sequence</var> must be numbers or markers
(see <a href="Markers.html#Markers">Markers</a>).

     </p><pre class="example">          (seq-min [3 1 2])
          ⇒ 1
          (seq-min "Hello")
          ⇒ 72
</pre>
        </blockquote></div>

<div class="defun">
— Function: <a class="dashAnchor" name="//apple_ref/Function/seq%2Dmax"></a><b>seq-max</b><var> sequence<a name="index-seq_002dmax-518"></a></var><br>
<blockquote><p><a name="index-maximum-value-of-sequence-519"></a><a name="index-sequence-maximum-520"></a>  This function returns the largest element of <var>sequence</var>.  The
elements of <var>sequence</var> must be numbers or markers.

     </p><pre class="example">          (seq-max [1 3 2])
          ⇒ 3
          (seq-max "Hello")
          ⇒ 111
</pre>
        </blockquote></div>

<div class="defun">
— Macro: <b>seq-doseq</b> (<a class="dashAnchor" name="//apple_ref/Macro/seq%2Ddoseq"></a><var>var sequence</var>)<var> body<small class="dots">...</small><a name="index-seq_002ddoseq-521"></a></var><br>
<blockquote><p><a name="index-sequence-iteration-522"></a><a name="index-iteration-over-vector-or-string-523"></a>  This macro is like <code>dolist</code> (see <a href="Iteration.html#Iteration">dolist</a>), except
that <var>sequence</var> can be a list, vector or string.  This is
primarily useful for side-effects. 
</p></blockquote></div>

<div class="defun">
— Macro: <a class="dashAnchor" name="//apple_ref/Macro/seq%2Dlet"></a><b>seq-let</b><var> arguments sequence body<small class="dots">...</small><a name="index-seq_002dlet-524"></a></var><br>
<blockquote><p><a name="index-sequence-destructuring-525"></a>  This macro binds the variables defined in <var>arguments</var> to the
elements of <var>sequence</var>.  <var>arguments</var> can themselves include
sequences, allowing for nested destructuring.

        </p><p>The <var>arguments</var> sequence can also include the <code>&amp;rest</code> marker
followed by a variable name to be bound to the rest of
<code>sequence</code>.

     </p><pre class="example">          (seq-let [first second] [1 2 3 4]
            (list first second))
          ⇒ (1 2)
          (seq-let (_ a _ b) '(1 2 3 4)
            (list a b))
          ⇒ (2 4)
          (seq-let [a [b [c]]] [1 [2 [3]]]
            (list a b c))
          ⇒ (1 2 3)
          (seq-let [a b &amp;rest others] [1 2 3 4]
            others)
          ⇒ [3 4]
</pre>
        </blockquote></div>

<div class="defun">
— Function: <a class="dashAnchor" name="//apple_ref/Function/seq%2Drandom%2Delt"></a><b>seq-random-elt</b><var> sequence<a name="index-seq_002drandom_002delt-526"></a></var><br>
<blockquote><p>  This function returns an element of <var>sequence</var> taken at random.

     </p><pre class="example">          (seq-random-elt [1 2 3 4])
          ⇒ 3
          (seq-random-elt [1 2 3 4])
          ⇒ 2
          (seq-random-elt [1 2 3 4])
          ⇒ 4
          (seq-random-elt [1 2 3 4])
          ⇒ 2
          (seq-random-elt [1 2 3 4])
          ⇒ 1
</pre>
        <p>If <var>sequence</var> is empty, this function signals an error. 
</p></blockquote></div>

   

</body></html>