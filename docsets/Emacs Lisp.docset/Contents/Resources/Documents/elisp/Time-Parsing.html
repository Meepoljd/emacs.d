<html><head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<link rev="made" href="mailto:bug-gnu-emacs@gnu.org">
<link rel="icon" type="image/png" href="/graphics/gnu-head-mini.png">
<meta name="ICBM" content="42.256233,-71.006581">
<meta name="DC.title" content="gnu.org">

<title>Time Parsing</title>
<!--
This is the `GNU Emacs Lisp Reference Manual'
corresponding to Emacs version 26.1.

Copyright (C) 1990--1996, 1998--2018 Free Software Foundation, Inc.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with the Invariant Sections being ``GNU General Public
     License,'' with the Front-Cover Texts being ``A GNU Manual,'' and
     with the Back-Cover Texts as in (a) below.  A copy of the license
     is included in the section entitled ``GNU Free Documentation
     License.''

     (a) The FSF's Back-Cover Text is: ``You have the freedom to copy
     and modify this GNU manual.  Buying copies from the FSF supports
     it in developing GNU and promoting software freedom.''
   -->
<style type="text/css">
@import url('/software/emacs/manual.css');
</style>
</head>
<body>
<div class="node" style="background-color:#DDDDFF">
<a name="Time-Parsing"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Processor-Run-Time.html#Processor-Run-Time">Processor Run Time</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Time-Conversion.html#Time-Conversion">Time Conversion</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="System-Interface.html#System-Interface">System Interface</a>

</p></div>

<h3 class="section">40.8 Parsing and Formatting Times</h3>

<p><a name="index-time-parsing-5101"></a><a name="index-time-formatting-5102"></a><a name="index-formatting-time-values-5103"></a>
  These functions convert time values to text in a string, and vice versa. 
Time values include <code>nil</code>, numbers, and lists of two to four
integers (see <a href="Time-of-Day.html#Time-of-Day">Time of Day</a>).

</p><div class="defun">
— Function: <a class="dashAnchor" name="//apple_ref/Function/date%2Dto%2Dtime"></a><b>date-to-time</b><var> string<a name="index-date_002dto_002dtime-5104"></a></var><br>
<blockquote><p>This function parses the time-string <var>string</var> and returns the
corresponding time value. 
</p></blockquote></div>

<div class="defun">
— Function: <a class="dashAnchor" name="//apple_ref/Function/format%2Dtime%2Dstring"></a><b>format-time-string</b><var> format-string &amp;optional time zone<a name="index-format_002dtime_002dstring-5105"></a></var><br>
<blockquote>
        <p>This function converts <var>time</var> (or the current time, if
<var>time</var> is omitted or <code>nil</code>) to a string according to
<var>format-string</var>.  The conversion uses the time zone rule <var>zone</var>, which
defaults to the current time zone rule.  See <a href="Time-Zone-Rules.html#Time-Zone-Rules">Time Zone Rules</a>.  The argument
<var>format-string</var> may contain ‘<samp><span class="samp">%</span></samp>’-sequences which say to
substitute parts of the time.  Here is a table of what the
‘<samp><span class="samp">%</span></samp>’-sequences mean:

          </p><dl>
<dt>‘<samp><span class="samp">%a</span></samp>’</dt><dd>This stands for the abbreviated name of the day of week. 
<br></dd><dt>‘<samp><span class="samp">%A</span></samp>’</dt><dd>This stands for the full name of the day of week. 
<br></dd><dt>‘<samp><span class="samp">%b</span></samp>’</dt><dd>This stands for the abbreviated name of the month. 
<br></dd><dt>‘<samp><span class="samp">%B</span></samp>’</dt><dd>This stands for the full name of the month. 
<br></dd><dt>‘<samp><span class="samp">%c</span></samp>’</dt><dd>This is a synonym for ‘<samp><span class="samp">%x %X</span></samp>’. 
<br></dd><dt>‘<samp><span class="samp">%C</span></samp>’</dt><dd>This stands for the century, that is, the year divided by 100,
truncated toward zero. 
The default field width is 2. 
<br></dd><dt>‘<samp><span class="samp">%d</span></samp>’</dt><dd>This stands for the day of month, zero-padded. 
<br></dd><dt>‘<samp><span class="samp">%D</span></samp>’</dt><dd>This is a synonym for ‘<samp><span class="samp">%m/%d/%y</span></samp>’. 
<br></dd><dt>‘<samp><span class="samp">%e</span></samp>’</dt><dd>This stands for the day of month, blank-padded. 
<br></dd><dt>‘<samp><span class="samp">%F</span></samp>’</dt><dd>This stands for the ISO 8601 date format, i.e., ‘<samp><span class="samp">"%Y-%m-%d"</span></samp>’. 
<br></dd><dt>‘<samp><span class="samp">%g</span></samp>’</dt><dd>This stands for the year corresponding to the ISO week within the century. 
<br></dd><dt>‘<samp><span class="samp">%G</span></samp>’</dt><dd>This stands for the year corresponding to the ISO week. 
<br></dd><dt>‘<samp><span class="samp">%h</span></samp>’</dt><dd>This is a synonym for ‘<samp><span class="samp">%b</span></samp>’. 
<br></dd><dt>‘<samp><span class="samp">%H</span></samp>’</dt><dd>This stands for the hour (00–23). 
<br></dd><dt>‘<samp><span class="samp">%I</span></samp>’</dt><dd>This stands for the hour (01–12). 
<br></dd><dt>‘<samp><span class="samp">%j</span></samp>’</dt><dd>This stands for the day of the year (001–366). 
<br></dd><dt>‘<samp><span class="samp">%k</span></samp>’</dt><dd>This stands for the hour (0–23), blank padded. 
<br></dd><dt>‘<samp><span class="samp">%l</span></samp>’</dt><dd>This stands for the hour (1–12), blank padded. 
<br></dd><dt>‘<samp><span class="samp">%m</span></samp>’</dt><dd>This stands for the month (01–12). 
<br></dd><dt>‘<samp><span class="samp">%M</span></samp>’</dt><dd>This stands for the minute (00–59). 
<br></dd><dt>‘<samp><span class="samp">%n</span></samp>’</dt><dd>This stands for a newline. 
<br></dd><dt>‘<samp><span class="samp">%N</span></samp>’</dt><dd>This stands for the nanoseconds (000000000–999999999).  To ask for
fewer digits, use ‘<samp><span class="samp">%3N</span></samp>’ for milliseconds, ‘<samp><span class="samp">%6N</span></samp>’ for
microseconds, etc.  Any excess digits are discarded, without rounding. 
<br></dd><dt>‘<samp><span class="samp">%p</span></samp>’</dt><dd>This stands for ‘<samp><span class="samp">AM</span></samp>’ or ‘<samp><span class="samp">PM</span></samp>’, as appropriate. 
<br></dd><dt>‘<samp><span class="samp">%q</span></samp>’</dt><dd>This stands for the calendar quarter (1–4). 
<br></dd><dt>‘<samp><span class="samp">%r</span></samp>’</dt><dd>This is a synonym for ‘<samp><span class="samp">%I:%M:%S %p</span></samp>’. 
<br></dd><dt>‘<samp><span class="samp">%R</span></samp>’</dt><dd>This is a synonym for ‘<samp><span class="samp">%H:%M</span></samp>’. 
<br></dd><dt>‘<samp><span class="samp">%s</span></samp>’</dt><dd>This stands for the integer number of seconds since the epoch. 
<br></dd><dt>‘<samp><span class="samp">%S</span></samp>’</dt><dd>This stands for the second (00–59, or 00–60 on platforms
that support leap seconds). 
<br></dd><dt>‘<samp><span class="samp">%t</span></samp>’</dt><dd>This stands for a tab character. 
<br></dd><dt>‘<samp><span class="samp">%T</span></samp>’</dt><dd>This is a synonym for ‘<samp><span class="samp">%H:%M:%S</span></samp>’. 
<br></dd><dt>‘<samp><span class="samp">%u</span></samp>’</dt><dd>This stands for the numeric day of week (1–7).  Monday is day 1. 
<br></dd><dt>‘<samp><span class="samp">%U</span></samp>’</dt><dd>This stands for the week of the year (01–52), assuming that weeks
start on Sunday. 
<br></dd><dt>‘<samp><span class="samp">%V</span></samp>’</dt><dd>This stands for the week of the year according to ISO 8601. 
<br></dd><dt>‘<samp><span class="samp">%w</span></samp>’</dt><dd>This stands for the numeric day of week (0–6).  Sunday is day 0. 
<br></dd><dt>‘<samp><span class="samp">%W</span></samp>’</dt><dd>This stands for the week of the year (01–52), assuming that weeks
start on Monday. 
<br></dd><dt>‘<samp><span class="samp">%x</span></samp>’</dt><dd>This has a locale-specific meaning.  In the default locale (named
‘<samp><span class="samp">C</span></samp>’), it is equivalent to ‘<samp><span class="samp">%D</span></samp>’. 
<br></dd><dt>‘<samp><span class="samp">%X</span></samp>’</dt><dd>This has a locale-specific meaning.  In the default locale (named
‘<samp><span class="samp">C</span></samp>’), it is equivalent to ‘<samp><span class="samp">%T</span></samp>’. 
<br></dd><dt>‘<samp><span class="samp">%y</span></samp>’</dt><dd>This stands for the year without century (00–99). 
<br></dd><dt>‘<samp><span class="samp">%Y</span></samp>’</dt><dd>This stands for the year with century. 
<br></dd><dt>‘<samp><span class="samp">%Z</span></samp>’</dt><dd>This stands for the time zone abbreviation (e.g., ‘<samp><span class="samp">EST</span></samp>’). 
<br></dd><dt>‘<samp><span class="samp">%z</span></samp>’</dt><dd>This stands for the time zone numerical offset.  The ‘<samp><span class="samp">z</span></samp>’ can be
preceded by one, two, or three colons; if plain ‘<samp><span class="samp">%z</span></samp>’ stands for
‘<samp><span class="samp">-0500</span></samp>’, then ‘<samp><span class="samp">%:z</span></samp>’ stands for ‘<samp><span class="samp">-05:00</span></samp>’, ‘<samp><span class="samp">%::z</span></samp>’
stands for ‘<samp><span class="samp">-05:00:00</span></samp>’, and ‘<samp><span class="samp">%:::z</span></samp>’ is like ‘<samp><span class="samp">%::z</span></samp>’
except it suppresses trailing instances of ‘<samp><span class="samp">:00</span></samp>’ so it stands for
‘<samp><span class="samp">-05</span></samp>’ in the same example. 
<br></dd><dt>‘<samp><span class="samp">%%</span></samp>’</dt><dd>This stands for a single ‘<samp><span class="samp">%</span></samp>’. 
</dd></dl>

        <p>One or more flag characters can appear immediately after the ‘<samp><span class="samp">%</span></samp>’. 
‘<samp><span class="samp">0</span></samp>’ pads with zeros, ‘<samp><span class="samp">_</span></samp>’ pads with blanks, ‘<samp><span class="samp">-</span></samp>’
suppresses padding, ‘<samp><span class="samp">^</span></samp>’ upper-cases letters, and ‘<samp><span class="samp">#</span></samp>’
reverses the case of letters.

        </p><p>You can also specify the field width and type of padding for any of
these ‘<samp><span class="samp">%</span></samp>’-sequences.  This works as in <code>printf</code>: you write
the field width as digits in a ‘<samp><span class="samp">%</span></samp>’-sequence, after any flags. 
For example, ‘<samp><span class="samp">%S</span></samp>’ specifies the number of seconds since the minute;
‘<samp><span class="samp">%03S</span></samp>’ means to pad this with zeros to 3 positions, ‘<samp><span class="samp">%_3S</span></samp>’ to
pad with spaces to 3 positions.  Plain ‘<samp><span class="samp">%3S</span></samp>’ pads with zeros,
because that is how ‘<samp><span class="samp">%S</span></samp>’ normally pads to two positions.

        </p><p>The characters ‘<samp><span class="samp">E</span></samp>’ and ‘<samp><span class="samp">O</span></samp>’ act as modifiers when used after
any flags and field widths in a ‘<samp><span class="samp">%</span></samp>’-sequence.  ‘<samp><span class="samp">E</span></samp>’ specifies
using the current locale's alternative version of the date and time. 
In a Japanese locale, for example, <code>%Ex</code> might yield a date format
based on the Japanese Emperors' reigns.  ‘<samp><span class="samp">E</span></samp>’ is allowed in
‘<samp><span class="samp">%Ec</span></samp>’, ‘<samp><span class="samp">%EC</span></samp>’, ‘<samp><span class="samp">%Ex</span></samp>’, ‘<samp><span class="samp">%EX</span></samp>’, ‘<samp><span class="samp">%Ey</span></samp>’, and
‘<samp><span class="samp">%EY</span></samp>’.

        </p><p>‘<samp><span class="samp">O</span></samp>’ means to use the current locale's alternative
representation of numbers, instead of the ordinary decimal digits.  This
is allowed with most letters, all the ones that output numbers.

        </p><p>To help debug programs, unrecognized ‘<samp><span class="samp">%</span></samp>’-sequences stand for
themselves and are output as-is.  Programs should not rely on this
behavior, as future versions of Emacs may recognize new
‘<samp><span class="samp">%</span></samp>’-sequences as extensions.

        </p><p>This function uses the C library function <code>strftime</code>
(see <a href="../libc/Formatting-Calendar-Time.html#Formatting-Calendar-Time">Formatting Calendar Time</a>) to do most of the work.  In order to communicate with that
function, it first encodes its argument using the coding system
specified by <code>locale-coding-system</code> (see <a href="Locales.html#Locales">Locales</a>); after
<code>strftime</code> returns the resulting string,
<code>format-time-string</code> decodes the string using that same coding
system. 
</p></blockquote></div>

<div class="defun">
— Function: <a class="dashAnchor" name="//apple_ref/Function/format%2Dseconds"></a><b>format-seconds</b><var> format-string seconds<a name="index-format_002dseconds-5106"></a></var><br>
<blockquote><p>This function converts its argument <var>seconds</var> into a string of
years, days, hours, etc., according to <var>format-string</var>.  The
argument <var>format-string</var> may contain ‘<samp><span class="samp">%</span></samp>’-sequences which
control the conversion.  Here is a table of what the
‘<samp><span class="samp">%</span></samp>’-sequences mean:

          </p><dl>
<dt>‘<samp><span class="samp">%y</span></samp>’</dt><dt>‘<samp><span class="samp">%Y</span></samp>’</dt><dd>The integer number of 365-day years. 
<br></dd><dt>‘<samp><span class="samp">%d</span></samp>’</dt><dt>‘<samp><span class="samp">%D</span></samp>’</dt><dd>The integer number of days. 
<br></dd><dt>‘<samp><span class="samp">%h</span></samp>’</dt><dt>‘<samp><span class="samp">%H</span></samp>’</dt><dd>The integer number of hours. 
<br></dd><dt>‘<samp><span class="samp">%m</span></samp>’</dt><dt>‘<samp><span class="samp">%M</span></samp>’</dt><dd>The integer number of minutes. 
<br></dd><dt>‘<samp><span class="samp">%s</span></samp>’</dt><dt>‘<samp><span class="samp">%S</span></samp>’</dt><dd>The integer number of seconds. 
<br></dd><dt>‘<samp><span class="samp">%z</span></samp>’</dt><dd>Non-printing control flag.  When it is used, other specifiers must be
given in the order of decreasing size, i.e., years before days, hours
before minutes, etc.  Nothing will be produced in the result string to
the left of ‘<samp><span class="samp">%z</span></samp>’ until the first non-zero conversion is
encountered.  For example, the default format used by
<code>emacs-uptime</code> (see <a href="Processor-Run-Time.html#Processor-Run-Time">emacs-uptime</a>)
<code>"%Y,&nbsp;%D,&nbsp;%H,&nbsp;%M,&nbsp;%z%S"</code><!-- /@w --> means that the number of seconds
will always be produced, but years, days, hours, and minutes will only
be shown if they are non-zero. 
<br></dd><dt>‘<samp><span class="samp">%%</span></samp>’</dt><dd>Produces a literal ‘<samp><span class="samp">%</span></samp>’. 
</dd></dl>

        <p>Upper-case format sequences produce the units in addition to the
numbers, lower-case formats produce only the numbers.

        </p><p>You can also specify the field width by following the ‘<samp><span class="samp">%</span></samp>’ with a
number; shorter numbers will be padded with blanks.  An optional
period before the width requests zero-padding instead.  For example,
<code>"%.3Y"</code> might produce <code>"004 years"</code>.

        </p><p><em>Warning:</em> This function works only with values of <var>seconds</var>
that don't exceed <code>most-positive-fixnum</code> (see <a href="Integer-Basics.html#Integer-Basics">most-positive-fixnum</a>). 
</p></blockquote></div>

   

</body></html>